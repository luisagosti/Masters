DROP DATABASE IF EXISTS sales_dashboard;
CREATE DATABASE sales_dashboard;
USE sales_dashboard;

-- Tabela de Categorias
CREATE TABLE categories (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(100) NOT NULL,
    description TEXT
);

-- Tabela de Produtos
CREATE TABLE products (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(200) NOT NULL,
    category_id INT,
    price DECIMAL(10, 2) NOT NULL,
    stock INT DEFAULT 0,
    FOREIGN KEY (category_id) REFERENCES categories(id)
);

-- Tabela de Clientes
CREATE TABLE customers (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(200) NOT NULL,
    email VARCHAR(200) UNIQUE NOT NULL,
    city VARCHAR(100),
    registration_date DATE NOT NULL
);

-- Tabela de Vendas
CREATE TABLE sales (
    id INT PRIMARY KEY AUTO_INCREMENT,
    customer_id INT,
    product_id INT,
    quantity INT NOT NULL,
    total_price DECIMAL(10, 2) NOT NULL,
    sale_date DATE NOT NULL,
    status ENUM('completed', 'pending', 'cancelled') DEFAULT 'completed',
    FOREIGN KEY (customer_id) REFERENCES customers(id),
    FOREIGN KEY (product_id) REFERENCES products(id)
);

-- Inserir Categorias
INSERT INTO categories (name, description) VALUES
('Eletrónicos', 'Dispositivos e gadgets eletrónicos'),
('Livros', 'Livros físicos e digitais'),
('Roupa', 'Vestuário e acessórios'),
('Casa', 'Artigos para o lar'),
('Desporto', 'Equipamento desportivo');

-- Inserir Produtos
INSERT INTO products (name, category_id, price, stock) VALUES
('Smartphone X1', 1, 599.99, 45),
('Laptop Pro 15', 1, 1299.99, 23),
('Auriculares Bluetooth', 1, 89.99, 120),
('Smartwatch Fit', 1, 249.99, 67),
('Tablet Ultra', 1, 449.99, 34),
('O Poder do Hábito', 2, 16.99, 200),
('Sapiens', 2, 19.99, 150),
('Clean Code', 2, 42.99, 80),
('1984', 2, 12.99, 180),
('T-shirt Básica', 3, 19.99, 300),
('Calças Jeans', 3, 59.99, 150),
('Casaco Inverno', 3, 89.99, 100),
('Ténis Running', 5, 79.99, 90),
('Bola Futebol', 5, 24.99, 200),
('Tapete Yoga', 5, 34.99, 110),
('Cafeteira Expresso', 4, 149.99, 45),
('Aspirador Robot', 4, 299.99, 30),
('Jogo Panelas', 4, 79.99, 60);

-- Inserir Clientes (50 clientes)
INSERT INTO customers (name, email, city, registration_date) VALUES
('João Silva', 'joao.silva@email.com', 'Lisboa', '2023-01-15'),
('Maria Santos', 'maria.santos@email.com', 'Porto', '2023-02-20'),
('Pedro Costa', 'pedro.costa@email.com', 'Braga', '2023-03-10'),
('Ana Ferreira', 'ana.ferreira@email.com', 'Lisboa', '2023-04-05'),
('Carlos Oliveira', 'carlos.oliveira@email.com', 'Coimbra', '2023-05-12'),
('Sofia Rodrigues', 'sofia.rodrigues@email.com', 'Porto', '2023-06-18'),
('Miguel Alves', 'miguel.alves@email.com', 'Faro', '2023-07-22'),
('Rita Martins', 'rita.martins@email.com', 'Lisboa', '2023-08-30'),
('Tiago Pereira', 'tiago.pereira@email.com', 'Aveiro', '2023-09-14'),
('Beatriz Sousa', 'beatriz.sousa@email.com', 'Porto', '2023-10-08'),
('Francisco Lopes', 'francisco.lopes@email.com', 'Lisboa', '2024-01-20'),
('Inês Carvalho', 'ines.carvalho@email.com', 'Braga', '2024-02-15'),
('Gonçalo Mendes', 'goncalo.mendes@email.com', 'Coimbra', '2024-03-11'),
('Catarina Ribeiro', 'catarina.ribeiro@email.com', 'Lisboa', '2024-04-07'),
('André Fernandes', 'andre.fernandes@email.com', 'Porto', '2024-05-19'),
('Mariana Gomes', 'mariana.gomes@email.com', 'Faro', '2024-06-25'),
('Diogo Silva', 'diogo.silva@email.com', 'Lisboa', '2024-07-30'),
('Carolina Santos', 'carolina.santos@email.com', 'Aveiro', '2024-08-12'),
('Rui Costa', 'rui.costa@email.com', 'Porto', '2024-09-05'),
('Leonor Ferreira', 'leonor.ferreira@email.com', 'Braga', '2024-10-18'),
('Nuno Oliveira', 'nuno.oliveira@email.com', 'Lisboa', '2024-11-01'),
('Marta Rodrigues', 'marta.rodrigues@email.com', 'Coimbra', '2023-01-28'),
('Hugo Alves', 'hugo.alves@email.com', 'Porto', '2023-03-22'),
('Sara Martins', 'sara.martins@email.com', 'Lisboa', '2023-05-16'),
('Bruno Pereira', 'bruno.pereira@email.com', 'Faro', '2023-07-09'),
('Joana Sousa', 'joana.sousa@email.com', 'Aveiro', '2023-09-03'),
('Ricardo Lopes', 'ricardo.lopes@email.com', 'Braga', '2023-11-27'),
('Luísa Carvalho', 'luisa.carvalho@email.com', 'Lisboa', '2024-01-14'),
('Vasco Mendes', 'vasco.mendes@email.com', 'Porto', '2024-03-08'),
('Teresa Ribeiro', 'teresa.ribeiro@email.com', 'Coimbra', '2024-05-02'),
('Filipe Fernandes', 'filipe.fernandes@email.com', 'Lisboa', '2024-06-26'),
('Cristina Gomes', 'cristina.gomes@email.com', 'Faro', '2024-08-20'),
('António Silva', 'antonio.silva@email.com', 'Porto', '2024-10-14'),
('Isabel Santos', 'isabel.santos@email.com', 'Lisboa', '2023-02-11'),
('Paulo Costa', 'paulo.costa@email.com', 'Braga', '2023-04-17'),
('Vera Ferreira', 'vera.ferreira@email.com', 'Aveiro', '2023-06-23'),
('Daniel Oliveira', 'daniel.oliveira@email.com', 'Coimbra', '2023-08-19'),
('Patrícia Rodrigues', 'patricia.rodrigues@email.com', 'Lisboa', '2023-10-25'),
('Sérgio Alves', 'sergio.alves@email.com', 'Porto', '2024-02-08'),
('Helena Martins', 'helena.martins@email.com', 'Faro', '2024-04-14'),
('Marco Pereira', 'marco.pereira@email.com', 'Lisboa', '2024-06-10'),
('Lídia Sousa', 'lidia.sousa@email.com', 'Braga', '2024-08-06'),
('Eduardo Lopes', 'eduardo.lopes@email.com', 'Porto', '2024-10-02'),
('Cláudia Carvalho', 'claudia.carvalho@email.com', 'Coimbra', '2023-03-19'),
('Rodrigo Mendes', 'rodrigo.mendes@email.com', 'Lisboa', '2023-05-25'),
('Sandra Ribeiro', 'sandra.ribeiro@email.com', 'Aveiro', '2023-07-31'),
('José Fernandes', 'jose.fernandes@email.com', 'Porto', '2023-09-26'),
('Mónica Gomes', 'monica.gomes@email.com', 'Faro', '2023-11-22'),
('Luís Silva', 'luis.silva@email.com', 'Lisboa', '2024-01-17'),
('Susana Santos', 'susana.santos@email.com', 'Braga', '2024-03-13');

-- Inserir Vendas (200 vendas distribuídas ao longo de 2024)
INSERT INTO sales (customer_id, product_id, quantity, total_price, sale_date, status) VALUES
(1, 1, 1, 599.99, '2024-01-05', 'completed'),
(2, 6, 2, 33.98, '2024-01-08', 'completed'),
(3, 10, 3, 59.97, '2024-01-12', 'completed'),
(4, 3, 1, 89.99, '2024-01-15', 'completed'),
(5, 13, 1, 79.99, '2024-01-18', 'completed'),
(6, 2, 1, 1299.99, '2024-01-22', 'completed'),
(7, 11, 2, 119.98, '2024-01-25', 'completed'),
(8, 16, 1, 149.99, '2024-01-28', 'completed'),
(9, 7, 1, 19.99, '2024-02-02', 'completed'),
(10, 4, 1, 249.99, '2024-02-05', 'completed'),
(11, 14, 3, 74.97, '2024-02-08', 'completed'),
(12, 1, 1, 599.99, '2024-02-11', 'completed'),
(13, 12, 1, 89.99, '2024-02-14', 'completed'),
(14, 5, 1, 449.99, '2024-02-17', 'completed'),
(15, 8, 2, 85.98, '2024-02-20', 'completed'),
(16, 15, 1, 34.99, '2024-02-23', 'completed'),
(17, 3, 2, 179.98, '2024-02-26', 'completed'),
(18, 17, 1, 299.99, '2024-03-01', 'completed'),
(19, 9, 3, 38.97, '2024-03-04', 'completed'),
(20, 6, 1, 16.99, '2024-03-07', 'completed'),
(21, 18, 1, 79.99, '2024-03-10', 'completed'),
(22, 2, 1, 1299.99, '2024-03-13', 'completed'),
(23, 10, 2, 39.98, '2024-03-16', 'completed'),
(24, 13, 1, 79.99, '2024-03-19', 'completed'),
(25, 1, 1, 599.99, '2024-03-22', 'completed'),
(26, 7, 2, 39.98, '2024-03-25', 'completed'),
(27, 4, 1, 249.99, '2024-03-28', 'completed'),
(28, 11, 1, 59.99, '2024-04-02', 'completed'),
(29, 16, 1, 149.99, '2024-04-05', 'completed'),
(30, 3, 1, 89.99, '2024-04-08', 'completed'),
(31, 14, 2, 49.98, '2024-04-11', 'completed'),
(32, 5, 1, 449.99, '2024-04-14', 'completed'),
(33, 12, 1, 89.99, '2024-04-17', 'completed'),
(34, 8, 1, 42.99, '2024-04-20', 'completed'),
(35, 15, 2, 69.98, '2024-04-23', 'completed'),
(36, 1, 1, 599.99, '2024-04-26', 'completed'),
(37, 17, 1, 299.99, '2024-04-29', 'completed'),
(38, 9, 2, 25.98, '2024-05-03', 'completed'),
(39, 6, 3, 50.97, '2024-05-06', 'completed'),
(40, 18, 1, 79.99, '2024-05-09', 'completed'),
(41, 2, 1, 1299.99, '2024-05-12', 'completed'),
(42, 10, 4, 79.96, '2024-05-15', 'completed'),
(43, 13, 1, 79.99, '2024-05-18', 'completed'),
(44, 3, 1, 89.99, '2024-05-21', 'completed'),
(45, 7, 1, 19.99, '2024-05-24', 'completed'),
(46, 4, 1, 249.99, '2024-05-27', 'completed'),
(47, 11, 2, 119.98, '2024-05-30', 'completed'),
(48, 16, 1, 149.99, '2024-06-03', 'completed'),
(49, 14, 3, 74.97, '2024-06-06', 'completed'),
(50, 1, 1, 599.99, '2024-06-09', 'completed'),
(1, 12, 1, 89.99, '2024-06-12', 'completed'),
(2, 5, 1, 449.99, '2024-06-15', 'completed'),
(3, 15, 1, 34.99, '2024-06-18', 'completed'),
(4, 8, 2, 85.98, '2024-06-21', 'completed'),
(5, 3, 2, 179.98, '2024-06-24', 'completed'),
(6, 17, 1, 299.99, '2024-06-27', 'completed'),
(7, 9, 1, 12.99, '2024-06-30', 'completed'),
(8, 6, 2, 33.98, '2024-07-04', 'completed'),
(9, 18, 1, 79.99, '2024-07-07', 'completed'),
(10, 2, 1, 1299.99, '2024-07-10', 'completed'),
(11, 10, 3, 59.97, '2024-07-13', 'completed'),
(12, 13, 1, 79.99, '2024-07-16', 'completed'),
(13, 1, 1, 599.99, '2024-07-19', 'completed'),
(14, 7, 3, 59.97, '2024-07-22', 'completed'),
(15, 4, 1, 249.99, '2024-07-25', 'completed'),
(16, 11, 1, 59.99, '2024-07-28', 'completed'),
(17, 16, 1, 149.99, '2024-07-31', 'completed'),
(18, 3, 1, 89.99, '2024-08-04', 'completed'),
(19, 14, 2, 49.98, '2024-08-07', 'completed'),
(20, 5, 1, 449.99, '2024-08-10', 'completed'),
(21, 12, 1, 89.99, '2024-08-13', 'completed'),
(22, 8, 1, 42.99, '2024-08-16', 'completed'),
(23, 15, 2, 69.98, '2024-08-19', 'completed'),
(24, 1, 1, 599.99, '2024-08-22', 'completed'),
(25, 17, 1, 299.99, '2024-08-25', 'completed'),
(26, 9, 2, 25.98, '2024-08-28', 'completed'),
(27, 6, 1, 16.99, '2024-09-01', 'completed'),
(28, 18, 1, 79.99, '2024-09-04', 'completed'),
(29, 2, 1, 1299.99, '2024-09-07', 'completed'),
(30, 10, 2, 39.98, '2024-09-10', 'completed'),
(31, 13, 1, 79.99, '2024-09-13', 'completed'),
(32, 3, 1, 89.99, '2024-09-16', 'completed'),
(33, 7, 2, 39.98, '2024-09-19', 'completed'),
(34, 4, 1, 249.99, '2024-09-22', 'completed'),
(35, 11, 1, 59.99, '2024-09-25', 'completed'),
(36, 16, 1, 149.99, '2024-09-28', 'completed'),
(37, 14, 3, 74.97, '2024-10-02', 'completed'),
(38, 1, 1, 599.99, '2024-10-05', 'completed'),
(39, 12, 1, 89.99, '2024-10-08', 'completed'),
(40, 5, 1, 449.99, '2024-10-11', 'completed'),
(41, 15, 1, 34.99, '2024-10-14', 'completed'),
(42, 8, 2, 85.98, '2024-10-17', 'completed'),
(43, 3, 2, 179.98, '2024-10-20', 'completed'),
(44, 17, 1, 299.99, '2024-10-23', 'completed'),
(45, 9, 3, 38.97, '2024-10-26', 'completed'),
(46, 6, 2, 33.98, '2024-10-29', 'completed'),
(47, 18, 1, 79.99, '2024-11-02', 'completed'),
(48, 2, 1, 1299.99, '2024-11-05', 'completed'),
(49, 10, 3, 59.97, '2024-11-08', 'completed'),
(50, 13, 1, 79.99, '2024-11-11', 'completed'),
(1, 1, 1, 599.99, '2024-11-14', 'completed'),
(2, 7, 1, 19.99, '2024-11-17', 'completed'),
(3, 4, 1, 249.99, '2024-01-20', 'completed'),
(4, 11, 2, 119.98, '2024-02-03', 'completed'),
(5, 16, 1, 149.99, '2024-03-11', 'completed'),
(6, 3, 1, 89.99, '2024-04-15', 'completed'),
(7, 14, 2, 49.98, '2024-05-19', 'completed'),
(8, 5, 1, 449.99, '2024-06-22', 'completed'),
(9, 12, 1, 89.99, '2024-07-26', 'completed'),
(10, 8, 1, 42.99, '2024-08-29', 'completed'),
(11, 15, 2, 69.98, '2024-09-02', 'completed'),
(12, 1, 1, 599.99, '2024-10-06', 'completed'),
(13, 17, 1, 299.99, '2024-11-09', 'completed'),
(14, 9, 2, 25.98, '2024-01-13', 'completed'),
(15, 6, 3, 50.97, '2024-02-16', 'completed'),
(16, 18, 1, 79.99, '2024-03-20', 'completed'),
(17, 2, 1, 1299.99, '2024-04-24', 'completed'),
(18, 10, 4, 79.96, '2024-05-28', 'completed'),
(19, 13, 1, 79.99, '2024-06-01', 'completed'),
(20, 3, 1, 89.99, '2024-07-05', 'completed'),
(21, 7, 2, 39.98, '2024-08-08', 'completed'),
(22, 4, 1, 249.99, '2024-09-11', 'completed'),
(23, 11, 1, 59.99, '2024-10-15', 'completed'),
(24, 16, 1, 149.99, '2024-11-18', 'completed'),
(25, 14, 3, 74.97, '2024-01-22', 'completed'),
(26, 1, 1, 599.99, '2024-02-25', 'completed'),
(27, 12, 1, 89.99, '2024-03-30', 'completed'),
(28, 5, 1, 449.99, '2024-05-03', 'completed'),
(29, 15, 1, 34.99, '2024-06-07', 'completed'),
(30, 8, 2, 85.98, '2024-07-11', 'completed'),
(31, 3, 2, 179.98, '2024-08-14', 'completed'),
(32, 17, 1, 299.99, '2024-09-17', 'completed'),
(33, 9, 1, 12.99, '2024-10-21', 'completed'),
(34, 6, 2, 33.98, '2024-11-01', 'completed'),
(35, 18, 1, 79.99, '2024-01-25', 'completed'),
(36, 2, 1, 1299.99, '2024-02-28', 'completed'),
(37, 10, 3, 59.97, '2024-04-02', 'completed'),
(38, 13, 1, 79.99, '2024-05-06', 'completed'),
(39, 1, 1, 599.99, '2024-06-10', 'completed'),
(40, 7, 3, 59.97, '2024-07-14', 'completed'),
(41, 4, 1, 249.99, '2024-08-17', 'completed'),
(42, 11, 2, 119.98, '2024-09-20', 'completed'),
(43, 16, 1, 149.99, '2024-10-24', 'completed'),
(44, 3, 1, 89.99, '2024-11-04', 'completed'),
(45, 14, 2, 49.98, '2024-01-27', 'completed'),
(46, 5, 1, 449.99, '2024-03-02', 'completed'),
(47, 12, 1, 89.99, '2024-04-06', 'completed'),
(48, 8, 1, 42.99, '2024-05-10', 'completed'),
(49, 15, 2, 69.98, '2024-06-14', 'completed'),
(50, 1, 1, 599.99, '2024-07-18', 'completed'),
(1, 17, 1, 299.99, '2024-08-21', 'completed'),
(2, 9, 2, 25.98, '2024-09-24', 'completed'),
(3, 6, 1, 16.99, '2024-10-28', 'completed'),
(4, 18, 1, 79.99, '2024-11-07', 'completed'),
(5, 2, 1, 1299.99, '2024-01-30', 'completed'),
(6, 10, 2, 39.98, '2024-03-05', 'completed'),
(7, 13, 1, 79.99, '2024-04-09', 'completed'),
(8, 3, 1, 89.99, '2024-05-13', 'completed'),
(9, 7, 2, 39.98, '2024-06-17', 'completed'),
(10, 4, 1, 249.99, '2024-07-21', 'completed'),
(11, 11, 1, 59.99, '2024-08-24', 'completed'),
(12, 16, 1, 149.99, '2024-09-27', 'completed'),
(13, 14, 3, 74.97, '2024-10-31', 'completed'),
(14, 1, 1, 599.99, '2024-11-10', 'completed'),
(15, 12, 1, 89.99, '2024-01-16', 'cancelled'),
(16, 5, 1, 449.99, '2024-02-19', 'pending'),
(17, 15, 1, 34.99, '2024-03-24', 'cancelled'),
(18, 8, 2, 85.98, '2024-04-28', 'completed'),
(19, 3, 2, 179.98, '2024-06-01', 'pending'),
(20, 17, 1, 299.99, '2024-07-05', 'cancelled'),
(21, 9, 3, 38.97, '2024-08-09', 'completed'),
(22, 6, 2, 33.98, '2024-09-12', 'completed'),
(23, 18, 1, 79.99, '2024-10-16', 'pending'),
(24, 2, 1, 1299.99, '2024-11-13', 'completed'),
(25, 10, 3, 59.97, '2024-01-19', 'completed'),
(26, 13, 1, 79.99, '2024-02-22', 'cancelled'),
(27, 1, 1, 599.99, '2024-03-27', 'completed'),
(28, 7, 1, 19.99, '2024-05-01', 'completed'),
(29, 4, 1, 249.99, '2024-06-05', 'pending'),
(30, 11, 2, 119.98, '2024-07-09', 'completed');
